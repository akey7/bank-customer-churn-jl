---
title: "Analyze Bank Customer Churn"
format:
  html:
    toc: true
    html-math-method: mathjax
    code-fold: false
---

```{julia}
#| label: using-things
#| eval: true
#| include: false

# Activate the proper Julia Project.toml
using Pkg
Pkg.activate("..", io=devnull)

using Random
using DataFrames
using PrettyTables
using MLJ

include("../src/BankCustomerChurn.jl")

Random.seed!(1234)
```

## Load Data

Load data and look at the first five rows.

```{julia}
#| label: load-data
#| eval: true
#| include: true

df = BankCustomerChurn.read_churn_data(joinpath("..", "input", "Churn Data Decision Tree V3.csv"))
pretty_table(first(df, 5))
```

What is the scientific type schema?

```{julia}
#| label: reveal-schema
#| eval: true
#| include: true

schema(df)
```

## Evaluate a defult decision tree

```{julia}
#| label: evaluate-default-tree
#| eval: true
#| include: true

BankCustomerChurn.evaluate_decision_tree_classifier(df)
```

## Documentation of `DecisionTreeClassifier`

```{julia}
#| label: doc-default-tree
#| eval: true
#| include: true

doc("DecisionTreeClassifier", pkg="DecisionTree")
```
